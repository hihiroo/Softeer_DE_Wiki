# 리뷰
## W5M1
### 환경 구축
* 도커 빌드 과정에서 패키지 설치에 시간이 오래 걸렸는데, 평소에는 리뷰를 작성하거나 아이디어를 생각하는데 오늘은 피곤해서 졸아버렸음
    * 점심 식사 이후에 멜팅 초코 라떼를 마셨더니 혈당 스파이크가 왔는지 졸리고 멍한 느낌이 들었음
* Spark UI 포트(4040, 4041)를 spark-master 컨테이너에서 열었더니 접속이 안되었음
    * Spark UI(4040)는 driver가 제공하는 서비스
    * Spark Driver가 떠있는 컨테이너에서 열어야 하기 때문에 jupyter 컨테이너에서 포트를 열어야 한다는 것을 알게 됨

### Spark 캐싱 최적화
* 성능 최적화 기법 중 캐싱을 적용했는데, 캐싱 방법이 두 가지로 나뉜다는 점을 발견해서 팀원들과 구현 방식 공유 및 개념 조사 진행
    * df.cache()
    * df.persist(StorageLevel)
* cache()는 기본적으로 메모리 기반 캐싱 -> 메모리 부족 시 일부 데이터가 버려질 수 있어, 다음 action에서 재계산 될 수 있음
* persist()는 옵션에 따라 메모리 부족 시 disk로 spill -> 다음 action 때 재계산 없이 disk에서 읽어와 재사용 가능
* 말만 들으면 disk에서 캐싱하는게 더 빨라보이지만 I/O가 발생하기 때문에 간단한 계산이면 재계산이 훨씬 빠를 수도 있겠다는 생각을 함
    * 결정하기 전에 태스크에 따라 정량적인 실행속도 비교가 필요할 것 같음
### DAG 시각화 및 Stage 분석
* DAG를 확인하는 과정에서, skip되는 stage가 예상보다 많이 발생해서 원인을 고민해봄
    * 캐싱 과정에서 기존 stage 결과가 재사용되어 재실행이 필요 없는 경우
    * Spark 최적화 과정에서 제거된 경우 (unused, empty)
    * 스킵 이유는 이벤트 로그를 통해서 간접적으로 유추할 수 있다고 하는데, 내일 적용해보면 좋을 것 같음
* Stage가 총 19개나 나와서 줄일 수 있는지 코드를 더 분석해볼 예정
    * 셔플 최소화
    * action 최소화
    * cache 활용률 최대화

## 최종 프로젝트 팀 회의
### 아이디어 회의 및 문제 검증
* 팀원들과 각자 조사해온 지인이 실제 겪은 문제 상황 공유
* "진짜 문제인가?", "현재도 지속되는가?", "해결 가능한가" 관점으로 논의함
* 기사, 블로그를 검색해보니 실제로 관련 자료가 많고 최근까지도 문제로 인식되고 있는 점을 확인함
* 딥다이브 해보기로 결정함

### 협업 방식 개선
* 기존에는 링크를 공유해서 각자 노트북으로 확인하는 방식으로 의사소통 진행
* 오늘은 모니터 1개에 화면 공유 해놓고 팀원들이 같은 화면을 보면서 진행
    * 피드백 정리
    * 회의 내용 기록
    * 기사 검색, 시각 자료 시청
* 집중력이 훨씬 올라가는 느낌이 들었고, 의사소통이 더 활발해짐


<br>

# 회고

## Keep
* 화면 공유를 통한 팀 회의 진행

## Problem
* 점심 식사 이후 혈당 스파이크로 컨디션이 급격히 떨어지고 집중 흐름이 끊김
    * 점심 직후 음료는 당이 적은 카페라떼나 아인슈페너로 선택하기

## Try


# 학습 기계
## 잘 지키고 있음
1. 매주 금요일 퇴근 전 10분 동안 일주일 동안 쓴 회고를 다시 읽고 리뷰하기
    - 잘 못 지킨 습관은 실천 방법 수정하기
2. 매주 금요일 피드백 받은 내용 최소 1가지 적용해보기
3. 설계에 대한 의사결정을 하기 전 usecase 최소 2가지 생각하기 

## 노력 필요
1. 모든 작업 최대 30분씩 타임박싱 하고, 연장은 최대 1번만 하기 (작업 = 해결 할 작은 문제 1개 e.g., 도커 파일 작성)
2. 데드라인보다 하루 더 일찍 끝내는 것을 목표로 스케줄링 하기
3. 미션 1개 해결 이후 10분 동안 해당 미션 리뷰하기

## 하면 좋음
1. 집중력이 깨지면 1차 스트레칭, 그래도 집중이 안되면 양치해보기
2. 팀원들과 팀미션 시간에 개인 미션 구현 방식을 3분씩 설명하고 리뷰하는 시간 갖기